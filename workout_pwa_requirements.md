# 運動ルーティンPWA 要件定義書（簡略版）

## プロジェクト概要
毎日の運動を習慣化するためのシンプルなPWA（Progressive Web App）を開発する。YouTube動画を埋め込み、手動で選択・再生し、運動時間の計測と進捗管理を行う。

## 主要機能

### 1. 動画選択・再生機能
- **YouTube動画埋め込み**
  - iframe埋め込みで複数の運動動画を表示
  - サムネイル + タイトル + 予想時間の表示
  - 手動クリックで動画再生開始

- **動画管理**
  - 事前に厳選した運動動画のリスト
  - カテゴリ別表示（腹筋、有酸素、ストレッチ等）
  - 各動画の推定時間を設定

### 2. タイマー・計測機能
- **運動時間計測**
  - 「開始」ボタンクリックでタイマー開始
  - リアルタイム経過時間表示（MM:SS形式）
  - 「完了」ボタンで計測終了
  - 途中一時停止・再開機能

- **時間表示**
  - 大きく見やすいデジタル表示
  - 進捗バー表示（経過時間/予想時間）

### 3. 進捗管理機能
- **日別記録**
  - 運動完了時に日付と時間を記録
  - LocalStorageでデータ保存
  - 1日の合計運動時間計算

- **統計表示**
  - 週間運動時間の表示
  - 月間運動時間の表示
  - 連続運動日数のカウント
  - シンプルなカレンダー表示（運動した日をマーク）

### 4. PWA機能
- **インストール可能**
  - Web App Manifestの設定
  - ホーム画面への追加対応
  - スタンドアローンモードでの起動

- **オフライン対応**
  - Service Workerによる基本キャッシュ
  - 埋め込み動画以外はオフライン表示可能

## 画面構成

### メイン画面（動画選択）
```
┌─────────────────┐
│ 運動ルーティン    │
├─────────────────┤
│ [腹筋 10分]      │
│ [YouTube埋め込み] │  
│ [開始ボタン]      │
├─────────────────┤
│ [有酸素 15分]     │
│ [YouTube埋め込み] │
│ [開始ボタン]      │
├─────────────────┤
│ [統計を見る]      │
└─────────────────┘
```

### タイマー画面
```
┌─────────────────┐
│ 腹筋トレーニング   │
├─────────────────┤
│    05:23        │ (大きく表示)
│ ████████░░░░     │ (進捗バー)
│                 │
│ [一時停止][完了]  │
└─────────────────┘
```

### 統計画面
```
┌─────────────────┐
│ 今週: 120分      │
│ 今月: 450分      │
│ 連続: 3日        │
├─────────────────┤
│ [カレンダー表示]  │
│ ●○●○●○○         │
└─────────────────┘
```

## データ構造

### 運動記録
```json
{
  "date": "YYYY-MM-DD",
  "sessions": [
    {
      "videoTitle": "腹筋トレーニング 10分",
      "duration": 623, // 実際の運動時間（秒）
      "startTime": "HH:MM:SS",
      "endTime": "HH:MM:SS"
    }
  ],
  "totalDuration": 623
}
```

### 動画設定
```json
{
  "videos": [
    {
      "id": "video1",
      "title": "腹筋トレーニング 10分",
      "youtubeId": "VIDEO_ID",
      "estimatedDuration": 600,
      "category": "筋トレ"
    }
  ]
}
```

## 技術仕様

### フロントエンド
- **HTML5/CSS3/JavaScript (Vanilla JS)**
- **YouTube iframe埋め込み**（APIなし）
- **LocalStorage**でのデータ保存
- **Web App Manifest + Service Worker**

### レスポンシブデザイン
- **モバイルファースト**
- **シンプルで大きなボタン**
- **見やすいタイマー表示**

## ファイル構成
```
/
├── index.html          # メイン画面
├── timer.html          # タイマー画面
├── stats.html          # 統計画面
├── css/
│   └── style.css       # スタイル
├── js/
│   ├── main.js         # メイン機能
│   ├── timer.js        # タイマー機能
│   └── storage.js      # データ管理
├── manifest.json       # PWA設定
└── sw.js              # Service Worker
```

## 開発フェーズ

### Phase 1: 基本機能（MVP）
- [ ] HTML基本構造の作成
- [ ] YouTube動画埋め込み
- [ ] 基本的なタイマー機能
- [ ] LocalStorageでの記録保存

### Phase 2: UI/UX改善
- [ ] レスポンシブデザイン
- [ ] 統計画面の実装
- [ ] PWA設定

### Phase 3: 機能拡張
- [ ] カテゴリ別動画表示
- [ ] より詳細な統計
- [ ] デザインの改善

## 成功指標
- [ ] 動画再生とタイマーが正常に動作する
- [ ] 進捗データがLocalStorageに保存される
- [ ] PWAとしてホーム画面に追加できる
- [ ] モバイルで使いやすいUI

## 制約・前提条件
- インターネット接続が必要（YouTube動画のため）
- 動画の自動再生はなし（手動開始）
- データはローカル保存のみ（バックアップなし）
- シンプルさを重視し、複雑な機能は避ける